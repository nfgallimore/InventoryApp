{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\Newton\\\\source\\\\repos\\\\nfgallimore\\\\InventoryApp\\\\InventoryApp\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\classCallCheck.js\";\nimport _createClass from \"C:\\\\Users\\\\Newton\\\\source\\\\repos\\\\nfgallimore\\\\InventoryApp\\\\InventoryApp\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\createClass.js\";\nimport { ItemsService } from 'src/app/services/items.service';\nimport { MatDialog } from '@angular/material/dialog';\nimport { MatSort } from '@angular/material/sort';\nimport { MatTableDataSource } from '@angular/material/table';\nimport { MatPaginator } from '@angular/material/paginator';\nimport { ConfirmComponent } from '../../confirm/confirm.component';\nimport { ItemFormComponent } from '../item-form/item-form.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/items.service\";\nimport * as i2 from \"@angular/material/dialog\";\nimport * as i3 from \"@angular/material/form-field\";\nimport * as i4 from \"@angular/material/input\";\nimport * as i5 from \"@angular/material/table\";\nimport * as i6 from \"@angular/material/sort\";\nimport * as i7 from \"@angular/material/icon\";\nimport * as i8 from \"@angular/material/toolbar\";\nimport * as i9 from \"@angular/material/paginator\";\nimport * as i10 from \"@angular/common\";\n\nfunction ItemsTableComponent_th_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 19);\n    i0.ɵɵtext(1, \" Id. \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ItemsTableComponent_td_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 20);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var element_r18 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", element_r18.id, \" \");\n  }\n}\n\nfunction ItemsTableComponent_th_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 19);\n    i0.ɵɵtext(1, \" Category \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ItemsTableComponent_td_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 20);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var element_r19 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", element_r19.category, \" \");\n  }\n}\n\nfunction ItemsTableComponent_th_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 21);\n    i0.ɵɵtext(1, \" Description \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ItemsTableComponent_td_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 20);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var element_r20 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", element_r20.description, \" \");\n  }\n}\n\nfunction ItemsTableComponent_th_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 19);\n    i0.ɵɵtext(1, \" Quantity \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ItemsTableComponent_td_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 20);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var element_r21 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", element_r21.quantity, \" \");\n  }\n}\n\nfunction ItemsTableComponent_th_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 19);\n    i0.ɵɵtext(1, \" Price \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ItemsTableComponent_td_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 20);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"currency\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var element_r22 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(2, 1, element_r22.price), \" \");\n  }\n}\n\nfunction ItemsTableComponent_th_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 19);\n    i0.ɵɵtext(1, \" Total \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ItemsTableComponent_td_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 20);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"currency\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var element_r23 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(2, 1, element_r23.total), \" \");\n  }\n}\n\nfunction ItemsTableComponent_th_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 21);\n    i0.ɵɵtext(1, \" Supplier_Id \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ItemsTableComponent_td_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 20);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var element_r24 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", element_r24.supplierId, \" \");\n  }\n}\n\nfunction ItemsTableComponent_th_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 21);\n    i0.ɵɵtext(1, \" Actions \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ItemsTableComponent_td_29_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r27 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"td\", 20)(1, \"mat-icon\", 22);\n    i0.ɵɵlistener(\"click\", function ItemsTableComponent_td_29_Template_mat_icon_click_1_listener() {\n      var restoredCtx = i0.ɵɵrestoreView(_r27);\n      var element_r25 = restoredCtx.$implicit;\n      var ctx_r26 = i0.ɵɵnextContext();\n      return ctx_r26.onEdit(element_r25);\n    });\n    i0.ɵɵtext(2, \"edit\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"mat-icon\", 23);\n    i0.ɵɵlistener(\"click\", function ItemsTableComponent_td_29_Template_mat_icon_click_3_listener() {\n      var restoredCtx = i0.ɵɵrestoreView(_r27);\n      var element_r25 = restoredCtx.$implicit;\n      var ctx_r28 = i0.ɵɵnextContext();\n      return ctx_r28.onDelete(element_r25.id);\n    });\n    i0.ɵɵtext(4, \"delete\");\n    i0.ɵɵelementEnd()();\n  }\n}\n\nfunction ItemsTableComponent_tr_30_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 24);\n  }\n}\n\nfunction ItemsTableComponent_tr_31_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 25);\n  }\n}\n\nvar _c0 = function _c0() {\n  return [5, 10, 20, 50, 100];\n};\n\nexport var ItemsTableComponent = /*#__PURE__*/(function () {\n  var ItemsTableComponent = /*#__PURE__*/function () {\n    function ItemsTableComponent(itemsService, dialog) {\n      var _this = this;\n\n      _classCallCheck(this, ItemsTableComponent);\n\n      this.itemsService = itemsService;\n      this.dialog = dialog;\n      this.displayedColumns = ['id', 'category', 'description', 'price', 'quantity', 'total', 'supplierId', 'actions'];\n      this.dataSource = new MatTableDataSource();\n\n      this.doFilter = function (value) {\n        _this.dataSource.filter = value.trim().toLocaleLowerCase();\n      };\n    }\n\n    _createClass(ItemsTableComponent, [{\n      key: \"ngOnInit\",\n      value: function ngOnInit() {\n        this.getItems();\n      }\n    }, {\n      key: \"ngAfterViewInit\",\n      value: function ngAfterViewInit() {\n        this.dataSource.sort = this.sort;\n        this.dataSource.paginator = this.paginator;\n      }\n    }, {\n      key: \"onEdit\",\n      value: function onEdit(item) {\n        var _this2 = this;\n\n        this.dialog.open(ItemFormComponent, {\n          width: '500px',\n          data: item\n        }).afterClosed().subscribe(function (item) {\n          if (item) {\n            _this2.itemsService.updateItem(item).subscribe(function () {\n              _this2.getItems();\n            });\n          }\n        });\n      }\n    }, {\n      key: \"onDelete\",\n      value: function onDelete(id) {\n        var _this3 = this;\n\n        this.dialog.open(ConfirmComponent, {\n          width: '500px',\n          data: 'Are you sure you want to delete this item?'\n        }).afterClosed().subscribe(function (confirmed) {\n          if (confirmed) {\n            _this3.itemsService.deleteItem(id).subscribe(function () {\n              _this3.getItems();\n            });\n          }\n        });\n      }\n    }, {\n      key: \"getItems\",\n      value: function getItems() {\n        var _this4 = this;\n\n        this.itemsService.getItems().subscribe(function (items) {\n          _this4.dataSource.data = items;\n        });\n      }\n    }]);\n\n    return ItemsTableComponent;\n  }();\n\n  ItemsTableComponent.ɵfac = function ItemsTableComponent_Factory(t) {\n    return new (t || ItemsTableComponent)(i0.ɵɵdirectiveInject(i1.ItemsService), i0.ɵɵdirectiveInject(i2.MatDialog));\n  };\n\n  ItemsTableComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ItemsTableComponent,\n    selectors: [[\"app-items-table\"]],\n    viewQuery: function ItemsTableComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(MatSort, 5);\n        i0.ɵɵviewQuery(MatPaginator, 5);\n      }\n\n      if (rf & 2) {\n        var _t;\n\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.sort = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.paginator = _t.first);\n      }\n    },\n    decls: 34,\n    vars: 6,\n    consts: [[\"fxLayout\", \"\", 1, \"justy\"], [\"fxFlex\", \"40%\"], [\"matInput\", \"\", \"type\", \"text\", \"placeholder\", \"Search\", 3, \"keyup\"], [\"mat-table\", \"\", \"matSort\", \"\", 1, \"mat-elevation-z2\", 3, \"dataSource\"], [\"matColumnDef\", \"id\"], [\"mat-header-cell\", \"\", \"mat-sort-header\", \"\", 4, \"matHeaderCellDef\"], [\"mat-cell\", \"\", 4, \"matCellDef\"], [\"matColumnDef\", \"category\"], [\"matColumnDef\", \"description\"], [\"mat-header-cell\", \"\", 4, \"matHeaderCellDef\"], [\"matColumnDef\", \"quantity\"], [\"matColumnDef\", \"price\"], [\"matColumnDef\", \"total\"], [\"matColumnDef\", \"supplierId\"], [\"matColumnDef\", \"actions\"], [\"mat-header-row\", \"\", 4, \"matHeaderRowDef\"], [\"mat-row\", \"\", 4, \"matRowDef\", \"matRowDefColumns\"], [\"display\", \"right\", \"id\", \"paginator\", 1, \"mat-elevation-z8\"], [3, \"pageSize\", \"pageSizeOptions\"], [\"mat-header-cell\", \"\", \"mat-sort-header\", \"\"], [\"mat-cell\", \"\"], [\"mat-header-cell\", \"\"], [\"color\", \"primary\", 1, \"edit-icon\", 3, \"click\"], [\"color\", \"primary\", 1, \"delete-icon\", 3, \"click\"], [\"mat-header-row\", \"\"], [\"mat-row\", \"\"]],\n    template: function ItemsTableComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"h1\");\n        i0.ɵɵtext(1, \"Items\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(2, \"div\", 0)(3, \"mat-form-field\", 1)(4, \"input\", 2);\n        i0.ɵɵlistener(\"keyup\", function ItemsTableComponent_Template_input_keyup_4_listener($event) {\n          return ctx.doFilter($event.target.value);\n        });\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(5, \"table\", 3);\n        i0.ɵɵelementContainerStart(6, 4);\n        i0.ɵɵtemplate(7, ItemsTableComponent_th_7_Template, 2, 0, \"th\", 5);\n        i0.ɵɵtemplate(8, ItemsTableComponent_td_8_Template, 2, 1, \"td\", 6);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(9, 7);\n        i0.ɵɵtemplate(10, ItemsTableComponent_th_10_Template, 2, 0, \"th\", 5);\n        i0.ɵɵtemplate(11, ItemsTableComponent_td_11_Template, 2, 1, \"td\", 6);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(12, 8);\n        i0.ɵɵtemplate(13, ItemsTableComponent_th_13_Template, 2, 0, \"th\", 9);\n        i0.ɵɵtemplate(14, ItemsTableComponent_td_14_Template, 2, 1, \"td\", 6);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(15, 10);\n        i0.ɵɵtemplate(16, ItemsTableComponent_th_16_Template, 2, 0, \"th\", 5);\n        i0.ɵɵtemplate(17, ItemsTableComponent_td_17_Template, 2, 1, \"td\", 6);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(18, 11);\n        i0.ɵɵtemplate(19, ItemsTableComponent_th_19_Template, 2, 0, \"th\", 5);\n        i0.ɵɵtemplate(20, ItemsTableComponent_td_20_Template, 3, 3, \"td\", 6);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(21, 12);\n        i0.ɵɵtemplate(22, ItemsTableComponent_th_22_Template, 2, 0, \"th\", 5);\n        i0.ɵɵtemplate(23, ItemsTableComponent_td_23_Template, 3, 3, \"td\", 6);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(24, 13);\n        i0.ɵɵtemplate(25, ItemsTableComponent_th_25_Template, 2, 0, \"th\", 9);\n        i0.ɵɵtemplate(26, ItemsTableComponent_td_26_Template, 2, 1, \"td\", 6);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(27, 14);\n        i0.ɵɵtemplate(28, ItemsTableComponent_th_28_Template, 2, 0, \"th\", 9);\n        i0.ɵɵtemplate(29, ItemsTableComponent_td_29_Template, 5, 0, \"td\", 6);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵtemplate(30, ItemsTableComponent_tr_30_Template, 1, 0, \"tr\", 15);\n        i0.ɵɵtemplate(31, ItemsTableComponent_tr_31_Template, 1, 0, \"tr\", 16);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(32, \"mat-toolbar\", 17);\n        i0.ɵɵelement(33, \"mat-paginator\", 18);\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"dataSource\", ctx.dataSource);\n        i0.ɵɵadvance(25);\n        i0.ɵɵproperty(\"matHeaderRowDef\", ctx.displayedColumns);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"matRowDefColumns\", ctx.displayedColumns);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"pageSize\", 10)(\"pageSizeOptions\", i0.ɵɵpureFunction0(5, _c0));\n      }\n    },\n    directives: [i3.MatFormField, i4.MatInput, i5.MatTable, i6.MatSort, i5.MatColumnDef, i5.MatHeaderCellDef, i5.MatHeaderCell, i6.MatSortHeader, i5.MatCellDef, i5.MatCell, i7.MatIcon, i5.MatHeaderRowDef, i5.MatHeaderRow, i5.MatRowDef, i5.MatRow, i8.MatToolbar, i9.MatPaginator],\n    pipes: [i10.CurrencyPipe],\n    styles: [\"table[_ngcontent-%COMP%]{width:calc(100% - 80px);margin:auto}h1[_ngcontent-%COMP%]{margin:40px}.edit-icon[_ngcontent-%COMP%]{margin-right:20px;cursor:pointer}.delete-icon[_ngcontent-%COMP%]{cursor:pointer}\"]\n  });\n  return ItemsTableComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}