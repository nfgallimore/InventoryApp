{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\Newton\\\\source\\\\repos\\\\nfgallimore\\\\InventoryApp\\\\InventoryApp\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\classCallCheck.js\";\nimport _createClass from \"C:\\\\Users\\\\Newton\\\\source\\\\repos\\\\nfgallimore\\\\InventoryApp\\\\InventoryApp\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\createClass.js\";\n\nvar _a, _b, _c;\n\nimport { __decorate, __metadata } from \"tslib\";\nimport { Component, ViewChild } from '@angular/core';\nimport { ItemsService } from 'src/app/services/items.service';\nimport { MatDialog, MatSort, MatTableDataSource, MatPaginator } from '@angular/material';\nimport { ItemFormComponent } from '../item-form/item-form.component';\nimport { ConfirmComponent } from '../../confirm/confirm.component';\n\nvar ItemsTableComponent = /*#__PURE__*/function () {\n  function ItemsTableComponent(itemsService, dialog) {\n    var _this = this;\n\n    _classCallCheck(this, ItemsTableComponent);\n\n    this.itemsService = itemsService;\n    this.dialog = dialog;\n    this.displayedColumns = ['id', 'category', 'description', 'price', 'quantity', 'total', 'supplierId', 'actions'];\n    this.dataSource = new MatTableDataSource();\n\n    this.doFilter = function (value) {\n      _this.dataSource.filter = value.trim().toLocaleLowerCase();\n    };\n  }\n\n  _createClass(ItemsTableComponent, [{\n    key: \"ngOnInit\",\n    value: function ngOnInit() {\n      this.getItems();\n    }\n  }, {\n    key: \"ngAfterViewInit\",\n    value: function ngAfterViewInit() {\n      this.dataSource.sort = this.sort;\n      this.dataSource.paginator = this.paginator;\n    }\n  }, {\n    key: \"onEdit\",\n    value: function onEdit(item) {\n      var _this2 = this;\n\n      this.dialog.open(ItemFormComponent, {\n        width: '500px',\n        data: item\n      }).afterClosed().subscribe(function (item) {\n        if (item) {\n          _this2.itemsService.updateItem(item).subscribe(function () {\n            _this2.getItems();\n          });\n        }\n      });\n    }\n  }, {\n    key: \"onDelete\",\n    value: function onDelete(id) {\n      var _this3 = this;\n\n      this.dialog.open(ConfirmComponent, {\n        width: '500px',\n        data: 'Are you sure you want to delete this item?'\n      }).afterClosed().subscribe(function (confirmed) {\n        if (confirmed) {\n          _this3.itemsService.deleteItem(id).subscribe(function () {\n            _this3.getItems();\n          });\n        }\n      });\n    }\n  }, {\n    key: \"getItems\",\n    value: function getItems() {\n      var _this4 = this;\n\n      this.itemsService.getItems().subscribe(function (items) {\n        _this4.dataSource.data = items;\n      });\n    }\n  }]);\n\n  return ItemsTableComponent;\n}();\n\n__decorate([ViewChild(MatSort), __metadata(\"design:type\", typeof (_a = typeof MatSort !== \"undefined\" && MatSort) === \"function\" ? _a : Object)], ItemsTableComponent.prototype, \"sort\", void 0);\n\n__decorate([ViewChild(MatPaginator), __metadata(\"design:type\", typeof (_b = typeof MatPaginator !== \"undefined\" && MatPaginator) === \"function\" ? _b : Object)], ItemsTableComponent.prototype, \"paginator\", void 0);\n\nItemsTableComponent = __decorate([Component({\n  selector: 'app-items-table',\n  templateUrl: './items-table.component.html',\n  styleUrls: ['./items-table.component.css']\n}), __metadata(\"design:paramtypes\", [ItemsService, typeof (_c = typeof MatDialog !== \"undefined\" && MatDialog) === \"function\" ? _c : Object])], ItemsTableComponent);\nexport { ItemsTableComponent };","map":null,"metadata":{},"sourceType":"module"}