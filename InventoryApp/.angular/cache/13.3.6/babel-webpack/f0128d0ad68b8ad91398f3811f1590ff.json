{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\Newton\\\\source\\\\repos\\\\nfgallimore\\\\InventoryApp\\\\InventoryApp\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\classCallCheck.js\";\nimport _createClass from \"C:\\\\Users\\\\Newton\\\\source\\\\repos\\\\nfgallimore\\\\InventoryApp\\\\InventoryApp\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\createClass.js\";\nimport { SuppliersService } from 'src/app/services/suppliers.service';\nimport { MatDialog } from '@angular/material/dialog';\nimport { MatSort } from '@angular/material/sort';\nimport { MatTableDataSource } from '@angular/material/table';\nimport { MatPaginator } from '@angular/material/paginator';\nimport { ConfirmComponent } from '../../confirm/confirm.component';\nimport { SupplierFormComponent } from 'src/app/components/suppliers/supplier-form/supplier-form.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/suppliers.service\";\nimport * as i2 from \"@angular/material/dialog\";\nimport * as i3 from \"@angular/material/form-field\";\nimport * as i4 from \"@angular/material/input\";\nimport * as i5 from \"@angular/material/table\";\nimport * as i6 from \"@angular/material/sort\";\nimport * as i7 from \"@angular/material/icon\";\nimport * as i8 from \"@angular/material/toolbar\";\nimport * as i9 from \"@angular/material/paginator\";\n\nfunction SuppliersTableComponent_th_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 17);\n    i0.ɵɵtext(1, \" Id. \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction SuppliersTableComponent_td_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 18);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var element_r12 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", element_r12.id, \" \");\n  }\n}\n\nfunction SuppliersTableComponent_th_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 17);\n    i0.ɵɵtext(1, \" Name \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction SuppliersTableComponent_td_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 18);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var element_r13 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", element_r13.name, \" \");\n  }\n}\n\nfunction SuppliersTableComponent_th_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 19);\n    i0.ɵɵtext(1, \" Contact \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction SuppliersTableComponent_td_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 18);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var element_r14 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", element_r14.contact, \" \");\n  }\n}\n\nfunction SuppliersTableComponent_th_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 19);\n    i0.ɵɵtext(1, \" Address \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction SuppliersTableComponent_td_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 18);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var element_r15 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", element_r15.address, \" \");\n  }\n}\n\nfunction SuppliersTableComponent_th_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 19);\n    i0.ɵɵtext(1, \" Actions \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction SuppliersTableComponent_td_20_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r18 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"td\", 18)(1, \"mat-icon\", 20);\n    i0.ɵɵlistener(\"click\", function SuppliersTableComponent_td_20_Template_mat_icon_click_1_listener() {\n      var restoredCtx = i0.ɵɵrestoreView(_r18);\n      var element_r16 = restoredCtx.$implicit;\n      var ctx_r17 = i0.ɵɵnextContext();\n      return ctx_r17.onEdit(element_r16);\n    });\n    i0.ɵɵtext(2, \"edit\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"mat-icon\", 21);\n    i0.ɵɵlistener(\"click\", function SuppliersTableComponent_td_20_Template_mat_icon_click_3_listener() {\n      var restoredCtx = i0.ɵɵrestoreView(_r18);\n      var element_r16 = restoredCtx.$implicit;\n      var ctx_r19 = i0.ɵɵnextContext();\n      return ctx_r19.onDelete(element_r16.id);\n    });\n    i0.ɵɵtext(4, \"delete\");\n    i0.ɵɵelementEnd()();\n  }\n}\n\nfunction SuppliersTableComponent_tr_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 22);\n  }\n}\n\nfunction SuppliersTableComponent_tr_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 23);\n  }\n}\n\nvar _c0 = function _c0() {\n  return [5, 10, 20, 50, 100];\n};\n\nexport var SuppliersTableComponent = /*#__PURE__*/(function () {\n  var SuppliersTableComponent = /*#__PURE__*/function () {\n    function SuppliersTableComponent(suppliersService, dialog) {\n      var _this = this;\n\n      _classCallCheck(this, SuppliersTableComponent);\n\n      this.suppliersService = suppliersService;\n      this.dialog = dialog;\n      this.displayedColumns = ['id', 'name', 'contact', 'address', 'actions'];\n      this.dataSource = new MatTableDataSource();\n\n      this.doFilter = function (value) {\n        _this.dataSource.filter = value.trim().toLocaleLowerCase();\n      };\n    }\n\n    _createClass(SuppliersTableComponent, [{\n      key: \"ngOnInit\",\n      value: function ngOnInit() {\n        this.getSuppliers();\n      }\n    }, {\n      key: \"ngAfterViewInit\",\n      value: function ngAfterViewInit() {\n        this.dataSource.sort = this.sort;\n        this.dataSource.paginator = this.paginator;\n      }\n    }, {\n      key: \"onEdit\",\n      value: function onEdit(supplier) {\n        var _this2 = this;\n\n        this.dialog.open(SupplierFormComponent, {\n          width: '500px',\n          data: supplier\n        }).afterClosed().subscribe(function (supplier) {\n          if (supplier) {\n            _this2.suppliersService.updateSupplier(supplier).subscribe(function () {\n              _this2.getSuppliers();\n            });\n          }\n        });\n      }\n    }, {\n      key: \"onDelete\",\n      value: function onDelete(id) {\n        var _this3 = this;\n\n        this.dialog.open(ConfirmComponent, {\n          width: '500px',\n          data: 'Are you sure you want to delete supplier?'\n        }).afterClosed().subscribe(function (confirmed) {\n          if (confirmed) {\n            _this3.suppliersService.deleteSupplier(id).subscribe(function () {\n              _this3.getSuppliers();\n            });\n          }\n        });\n      }\n    }, {\n      key: \"getSuppliers\",\n      value: function getSuppliers() {\n        var _this4 = this;\n\n        this.suppliersService.getSuppliers().subscribe(function (suppliers) {\n          _this4.dataSource.data = suppliers;\n        });\n      }\n    }]);\n\n    return SuppliersTableComponent;\n  }();\n\n  SuppliersTableComponent.ɵfac = function SuppliersTableComponent_Factory(t) {\n    return new (t || SuppliersTableComponent)(i0.ɵɵdirectiveInject(i1.SuppliersService), i0.ɵɵdirectiveInject(i2.MatDialog));\n  };\n\n  SuppliersTableComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: SuppliersTableComponent,\n    selectors: [[\"app-suppliers-table\"]],\n    viewQuery: function SuppliersTableComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(MatSort, 5);\n        i0.ɵɵviewQuery(MatPaginator, 5);\n      }\n\n      if (rf & 2) {\n        var _t;\n\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.sort = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.paginator = _t.first);\n      }\n    },\n    decls: 26,\n    vars: 6,\n    consts: [[\"fxLayout\", \"\", 1, \"justy\"], [\"fxFlex\", \"40%\"], [\"matInput\", \"\", \"type\", \"text\", \"placeholder\", \"Search\", 3, \"keyup\"], [\"mat-table\", \"\", \"matSort\", \"\", 1, \"mat-elevation-z8\", 3, \"dataSource\"], [\"matColumnDef\", \"id\"], [\"mat-header-cell\", \"\", \"mat-sort-header\", \"\", 4, \"matHeaderCellDef\"], [\"mat-cell\", \"\", 4, \"matCellDef\"], [\"matColumnDef\", \"name\"], [\"matColumnDef\", \"contact\"], [\"mat-header-cell\", \"\", 4, \"matHeaderCellDef\"], [\"matColumnDef\", \"address\"], [\"matColumnDef\", \"actions\"], [\"mat-header-row\", \"\", 4, \"matHeaderRowDef\"], [\"mat-row\", \"\", 4, \"matRowDef\", \"matRowDefColumns\"], [\"display\", \"right\", \"id\", \"paginator\", 1, \"mat-elevation-z8\"], [1, \"example-spacer\"], [3, \"pageSize\", \"pageSizeOptions\"], [\"mat-header-cell\", \"\", \"mat-sort-header\", \"\"], [\"mat-cell\", \"\"], [\"mat-header-cell\", \"\"], [\"color\", \"primary\", 1, \"edit-icon\", 3, \"click\"], [\"color\", \"primary\", 1, \"delete-icon\", 3, \"click\"], [\"mat-header-row\", \"\"], [\"mat-row\", \"\"]],\n    template: function SuppliersTableComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"h1\");\n        i0.ɵɵtext(1, \"Suppliers\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(2, \"div\", 0)(3, \"mat-form-field\", 1)(4, \"input\", 2);\n        i0.ɵɵlistener(\"keyup\", function SuppliersTableComponent_Template_input_keyup_4_listener($event) {\n          return ctx.doFilter($event.target.value);\n        });\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(5, \"table\", 3);\n        i0.ɵɵelementContainerStart(6, 4);\n        i0.ɵɵtemplate(7, SuppliersTableComponent_th_7_Template, 2, 0, \"th\", 5);\n        i0.ɵɵtemplate(8, SuppliersTableComponent_td_8_Template, 2, 1, \"td\", 6);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(9, 7);\n        i0.ɵɵtemplate(10, SuppliersTableComponent_th_10_Template, 2, 0, \"th\", 5);\n        i0.ɵɵtemplate(11, SuppliersTableComponent_td_11_Template, 2, 1, \"td\", 6);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(12, 8);\n        i0.ɵɵtemplate(13, SuppliersTableComponent_th_13_Template, 2, 0, \"th\", 9);\n        i0.ɵɵtemplate(14, SuppliersTableComponent_td_14_Template, 2, 1, \"td\", 6);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(15, 10);\n        i0.ɵɵtemplate(16, SuppliersTableComponent_th_16_Template, 2, 0, \"th\", 9);\n        i0.ɵɵtemplate(17, SuppliersTableComponent_td_17_Template, 2, 1, \"td\", 6);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(18, 11);\n        i0.ɵɵtemplate(19, SuppliersTableComponent_th_19_Template, 2, 0, \"th\", 9);\n        i0.ɵɵtemplate(20, SuppliersTableComponent_td_20_Template, 5, 0, \"td\", 6);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵtemplate(21, SuppliersTableComponent_tr_21_Template, 1, 0, \"tr\", 12);\n        i0.ɵɵtemplate(22, SuppliersTableComponent_tr_22_Template, 1, 0, \"tr\", 13);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(23, \"mat-toolbar\", 14);\n        i0.ɵɵelement(24, \"span\", 15)(25, \"mat-paginator\", 16);\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"dataSource\", ctx.dataSource);\n        i0.ɵɵadvance(16);\n        i0.ɵɵproperty(\"matHeaderRowDef\", ctx.displayedColumns);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"matRowDefColumns\", ctx.displayedColumns);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"pageSize\", 10)(\"pageSizeOptions\", i0.ɵɵpureFunction0(5, _c0));\n      }\n    },\n    directives: [i3.MatFormField, i4.MatInput, i5.MatTable, i6.MatSort, i5.MatColumnDef, i5.MatHeaderCellDef, i5.MatHeaderCell, i6.MatSortHeader, i5.MatCellDef, i5.MatCell, i7.MatIcon, i5.MatHeaderRowDef, i5.MatHeaderRow, i5.MatRowDef, i5.MatRow, i8.MatToolbar, i9.MatPaginator],\n    styles: [\"table[_ngcontent-%COMP%]{width:calc(100% - 80px);margin:auto}h1[_ngcontent-%COMP%]{margin:40px}.edit-icon[_ngcontent-%COMP%]{margin-right:20px;cursor:pointer}.delete-icon[_ngcontent-%COMP%]{cursor:pointer}\"]\n  });\n  return SuppliersTableComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}