{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\Newton\\\\source\\\\repos\\\\nfgallimore\\\\InventoryApp\\\\InventoryApp\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\classCallCheck.js\";\nimport _createClass from \"C:\\\\Users\\\\Newton\\\\source\\\\repos\\\\nfgallimore\\\\InventoryApp\\\\InventoryApp\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\createClass.js\";\n\nvar _a, _b, _c;\n\nimport { __decorate, __metadata } from \"tslib\";\nimport { Component, ViewChild } from '@angular/core';\nimport { OrdersService } from 'src/app/services/orders.service';\nimport { MatDialog, MatSort, MatTableDataSource, MatPaginator } from '@angular/material';\nimport { OrderFormComponent } from '../order-form/order-form.component';\nimport { ConfirmComponent } from '../../confirm/confirm.component';\n\nvar OrdersTableComponent = /*#__PURE__*/function () {\n  function OrdersTableComponent(ordersService, dialog) {\n    var _this = this;\n\n    _classCallCheck(this, OrdersTableComponent);\n\n    this.ordersService = ordersService;\n    this.dialog = dialog;\n    this.displayedColumns = ['id', 'name', 'contact', 'itemId', 'quantity', 'price', 'tax', 'total', 'actions'];\n    this.dataSource = new MatTableDataSource(); //public redirectToItem = (id: string) => {\n    // let url: string = `/components/items/itemsdetails/${id}`;\n    // this.router.navigate([url]);\n    //}\n\n    this.doFilter = function (value) {\n      _this.dataSource.filter = value.trim().toLocaleLowerCase();\n    };\n  }\n\n  _createClass(OrdersTableComponent, [{\n    key: \"ngOnInit\",\n    value: function ngOnInit() {\n      this.getOrders();\n    }\n  }, {\n    key: \"ngAfterViewInit\",\n    value: function ngAfterViewInit() {\n      this.dataSource.sort = this.sort;\n      this.dataSource.paginator = this.paginator;\n    }\n  }, {\n    key: \"onEdit\",\n    value: function onEdit(order) {\n      var _this2 = this;\n\n      this.dialog.open(OrderFormComponent, {\n        width: '500px',\n        data: order\n      }).afterClosed().subscribe(function (order) {\n        if (order) {\n          _this2.ordersService.updateOrder(order).subscribe(function () {\n            _this2.getOrders();\n          });\n        }\n      });\n    }\n  }, {\n    key: \"onDelete\",\n    value: function onDelete(id) {\n      var _this3 = this;\n\n      this.dialog.open(ConfirmComponent, {\n        width: '500px',\n        data: 'Are you sure you want to delete this order?'\n      }).afterClosed().subscribe(function (confirmed) {\n        if (confirmed) {\n          _this3.ordersService.deleteOrder(id).subscribe(function () {\n            _this3.getOrders();\n          });\n        }\n      });\n    }\n  }, {\n    key: \"getOrders\",\n    value: function getOrders() {\n      var _this4 = this;\n\n      this.ordersService.getOrders().subscribe(function (orders) {\n        _this4.dataSource.data = orders;\n      });\n    }\n  }]);\n\n  return OrdersTableComponent;\n}();\n\n__decorate([ViewChild(MatSort), __metadata(\"design:type\", typeof (_a = typeof MatSort !== \"undefined\" && MatSort) === \"function\" ? _a : Object)], OrdersTableComponent.prototype, \"sort\", void 0);\n\n__decorate([ViewChild(MatPaginator), __metadata(\"design:type\", typeof (_b = typeof MatPaginator !== \"undefined\" && MatPaginator) === \"function\" ? _b : Object)], OrdersTableComponent.prototype, \"paginator\", void 0);\n\nOrdersTableComponent = __decorate([Component({\n  selector: 'app-orders-table',\n  templateUrl: './orders-table.component.html',\n  styleUrls: ['./orders-table.component.css']\n}), __metadata(\"design:paramtypes\", [OrdersService, typeof (_c = typeof MatDialog !== \"undefined\" && MatDialog) === \"function\" ? _c : Object])], OrdersTableComponent);\nexport { OrdersTableComponent };","map":null,"metadata":{},"sourceType":"module"}