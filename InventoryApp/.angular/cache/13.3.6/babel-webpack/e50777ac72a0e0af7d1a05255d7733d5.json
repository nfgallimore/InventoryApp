{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\Newton\\\\source\\\\repos\\\\nfgallimore\\\\InventoryApp\\\\InventoryApp\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\classCallCheck.js\";\nimport _createClass from \"C:\\\\Users\\\\Newton\\\\source\\\\repos\\\\nfgallimore\\\\InventoryApp\\\\InventoryApp\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\createClass.js\";\n\nvar _a, _b, _c;\n\nimport { __decorate, __metadata } from \"tslib\";\nimport { Component, ViewChild } from '@angular/core';\nimport { SuppliersService } from 'src/app/services/suppliers.service';\nimport { MatDialog, MatTableDataSource, MatPaginator, MatSort } from '@angular/material';\nimport { SupplierFormComponent } from 'src/app/components/suppliers/supplier-form/supplier-form.component';\nimport { ConfirmComponent } from 'src/app/components/confirm/confirm.component';\n\nvar SuppliersTableComponent = /*#__PURE__*/function () {\n  function SuppliersTableComponent(suppliersService, dialog) {\n    var _this = this;\n\n    _classCallCheck(this, SuppliersTableComponent);\n\n    this.suppliersService = suppliersService;\n    this.dialog = dialog;\n    this.displayedColumns = ['id', 'name', 'contact', 'address', 'actions'];\n    this.dataSource = new MatTableDataSource();\n\n    this.doFilter = function (value) {\n      _this.dataSource.filter = value.trim().toLocaleLowerCase();\n    };\n  }\n\n  _createClass(SuppliersTableComponent, [{\n    key: \"ngOnInit\",\n    value: function ngOnInit() {\n      this.getSuppliers();\n    }\n  }, {\n    key: \"ngAfterViewInit\",\n    value: function ngAfterViewInit() {\n      this.dataSource.sort = this.sort;\n      this.dataSource.paginator = this.paginator;\n    }\n  }, {\n    key: \"onEdit\",\n    value: function onEdit(supplier) {\n      var _this2 = this;\n\n      this.dialog.open(SupplierFormComponent, {\n        width: '500px',\n        data: supplier\n      }).afterClosed().subscribe(function (supplier) {\n        if (supplier) {\n          _this2.suppliersService.updateSupplier(supplier).subscribe(function () {\n            _this2.getSuppliers();\n          });\n        }\n      });\n    }\n  }, {\n    key: \"onDelete\",\n    value: function onDelete(id) {\n      var _this3 = this;\n\n      this.dialog.open(ConfirmComponent, {\n        width: '500px',\n        data: 'Are you sure you want to delete supplier?'\n      }).afterClosed().subscribe(function (confirmed) {\n        if (confirmed) {\n          _this3.suppliersService.deleteSupplier(id).subscribe(function () {\n            _this3.getSuppliers();\n          });\n        }\n      });\n    }\n  }, {\n    key: \"getSuppliers\",\n    value: function getSuppliers() {\n      var _this4 = this;\n\n      this.suppliersService.getSuppliers().subscribe(function (suppliers) {\n        _this4.dataSource.data = suppliers;\n      });\n    }\n  }]);\n\n  return SuppliersTableComponent;\n}();\n\n__decorate([ViewChild(MatSort), __metadata(\"design:type\", typeof (_a = typeof MatSort !== \"undefined\" && MatSort) === \"function\" ? _a : Object)], SuppliersTableComponent.prototype, \"sort\", void 0);\n\n__decorate([ViewChild(MatPaginator), __metadata(\"design:type\", typeof (_b = typeof MatPaginator !== \"undefined\" && MatPaginator) === \"function\" ? _b : Object)], SuppliersTableComponent.prototype, \"paginator\", void 0);\n\nSuppliersTableComponent = __decorate([Component({\n  selector: 'app-suppliers-table',\n  templateUrl: './suppliers-table.component.html',\n  styleUrls: ['./suppliers-table.component.css']\n}), __metadata(\"design:paramtypes\", [SuppliersService, typeof (_c = typeof MatDialog !== \"undefined\" && MatDialog) === \"function\" ? _c : Object])], SuppliersTableComponent);\nexport { SuppliersTableComponent };","map":null,"metadata":{},"sourceType":"module"}